extends ../../layout/default.pug
include ../../mixins/alert.pug

block main
  +alert-error()
  +alert-success()


  if(role.permissions.includes("setting-general_view")) 
    .setting-general
      form(
        action=`${prefixAdmin}/settings/general?_method=PATCH`
        method="POST"
        enctype="multipart/form-data"
      )
        div(class="form-group")
          label(for="websiteName") Tên website
          input(
            type="text"
            class="form-control"
            id="websiteName"
            name="websiteName"
            value=(settingGeneral ? settingGeneral.websiteName : "")
          )
        div(
          class="form-group my-3"
          upload-image
        )
          label(for="logo") 
            i(class="fa-solid fa-pen")
          input(
            type="file"
            class="form-control-file d-none"
            id="logo"
            name="logo"
            accept="image/*"
            upload-image-input
          )
          img(
            src=(settingGeneral ? settingGeneral.logo : "")
            class="image-preview"
            upload-image-preview
          )
        div(class="form-group")
          label(for="phone") Số điện thoại
          input(
            type="text"
            class="form-control"
            id="phone"
            name="phone"
            value=(settingGeneral ? settingGeneral.phone : "")
          )
        div(class="form-group")
          label(for="email") Email
          input(
            type="email"
            class="form-control"
            id="email"
            name="email"
            value=(settingGeneral ? settingGeneral.email : "")
          )
        div(class="form-group")
          label(for="address") Địa chỉ
          input(
            type="text"
            class="form-control"
            id="address"
            name="address"
            value=(settingGeneral ? settingGeneral.address : "")
          )
        div(class="form-group mb-2")
          label(for="copyright") Copyright
          input(
            type="text"
            class="form-control"
            id="copyright"
            name="copyright"
            value=(settingGeneral ? settingGeneral.copyright : "")
          )
        div(class="form-group")
          button(
            type="submit"
            class="btn btn-update"
          ) Cập nhật
  else 
    h3 Không có quyền truy cập